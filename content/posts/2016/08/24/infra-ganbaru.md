---
title: Webオペレーション(インフラ)研修が佳境に入りました
date: 2016-08-24 23:59:56
categories:
  - 技術
tags:
---

数日書かないだけでなかなか筆が進まなくなるね…

さて、Webオペレーション(インフラ)研修も佳境に入った。
研修の概要については[Webオペレーション研修、そして夏季休暇](https://shimoju.jp/2016/08/09/web-ops-training/)に書いたとおりで、いまはApp・DBの冗長構成ができて基本的な構成の完成に近づいた。

これからは監視機構の導入や、本番環境への適用(インスタンス作成、Puppet適用、アプリのデプロイまでの一連の流れ)にまだ手作業が残っているところがあるので、自動化を進めたりなど本番で運営できるような完成度を高めていく作業となる。

また、今回は本番環境ではDockerを使わないので、docker-composeが勝手にやってくれていたネットワークやDNSなどの部分もきちんと考慮して作っていく必要がある。
例えば、実運用を想定してグローバルIPを持つインスタンスはリバースプロキシとSSH踏み台サーバのみとするのだが、試しにローカルネットワークしかないインスタンスを作ったらもちろんインターネットに出られずapt-getも何もできなかった(そりゃそうだ)。つまりNATしてあげる必要があり、そのための設定を組んだりしている。
あとはLAN内の名前解決の仕組みもないので、ここもDNSサーバーを立てたりして便利にしていく必要がある。いまは/etc/hostsを職人の手によりひたすら編集している。

あたたかみのある手作業はもういやだ。

さらに余力があればオートスケール対応やCDN、リバースプロキシ冗長化など、挑戦できる課題は山ほどある。
あと数日しかないが、ようやく基本構成ができてやりたい課題も出てきて楽しくなってきたのでいろいろ試していきたい。
